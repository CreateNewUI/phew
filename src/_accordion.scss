/**
 * Accordion
 */

// Chevron icon
$chevron: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23495057' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
$chevron-primary: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%231b6ec2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

// Base accordion styles
details {
  margin-bottom: 1rem;
  padding: 0;
  border: 1px solid #dee2e6;
  border-radius: 0.25rem;
  background-color: #fff;

  summary {
    padding: 0.75rem 1rem;
    line-height: 1rem;
    list-style-type: none;
    color: #495057;
    cursor: pointer;
    user-select: none;
    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out;

    // Remove default markers
    &::-webkit-details-marker,
    &::marker {
      display: none;
    }

    // Custom chevron icon
    &::after {
      content: "";
      float: right;
      width: 1rem;
      height: 1rem;
      margin-left: 0.5rem;
      background: $chevron right center / 1rem no-repeat;
      transform: rotate(-90deg);
      transition: transform 0.15s ease-in-out;
    }

    &:hover {
      background-color: #f8f9fa;
    }

    &:focus-visible {
      outline: 2px solid #1b6ec2;
      outline-offset: 0.5rem;
      color: #1b6ec2;
    }
  }

  > :not(summary) {
    padding: 0.75rem 1rem;
  }

  // Open state
  &[open] {
    padding-bottom: 0.75rem;

    > summary {
      border-bottom: 1px solid #dee2e6;
      color: #212529;

      &::after {
        transform: rotate(0);
      }
    }
  }
}

// Primary variant
details[data-variant="primary"] {
  border-color: #1b6ec2;

  summary {
    color: #1b6ec2;
    background-color: rgba(27, 110, 194, 0.05);

    &::after {
      background-image: $chevron-primary;
    }
  }
}

// Borderless variant
details[data-variant="borderless"] {
  border: none;
  background-color: transparent;

  summary {
    padding-left: 0;
  }

  &[open] > summary {
    border-bottom: none;
  }
}